{"ast":null,"code":"import { all, put, call, takeEvery } from 'redux-saga/effects';\nimport { actionTypes, loginSuccess, logoutSuccess } from './action';\nimport AuthRepository from '../../repositories/AuthRepository';\nfunction* loginSaga({\n  payload\n}) {\n  try {\n    const data = yield call(AuthRepository.login, payload);\n    if (data && data.statusCode === 200 && data.authorization) {\n      let res = data.data;\n      res.authorization = data.authorization;\n      res.isLoggedIn = true;\n      yield put(loginSuccess(res));\n    } else if (data && data.statusCode === 400) {} else if (data && data.statusCode === 404) {} else {}\n  } catch (err) {\n    // console.log(err);\n  }\n}\nfunction* logoutSaga() {\n  try {\n    localStorage.removeItem('usertoken');\n    yield put(logoutSuccess());\n  } catch (err) {\n    // console.log(err);\n  }\n}\nexport default function* rootSaga() {\n  yield all([takeEvery(actionTypes.LOGIN_REQUEST, loginSaga)]);\n  yield all([takeEvery(actionTypes.LOGOUT_REQUEST, logoutSaga)]);\n}","map":{"version":3,"names":["all","put","call","takeEvery","actionTypes","loginSuccess","logoutSuccess","AuthRepository","loginSaga","payload","data","login","statusCode","authorization","res","isLoggedIn","err","logoutSaga","localStorage","removeItem","rootSaga","LOGIN_REQUEST","LOGOUT_REQUEST"],"sources":["D:/Mushrooms/admin-web/store/auth/saga.js"],"sourcesContent":["import { all, put,call, takeEvery } from 'redux-saga/effects';\r\n\r\nimport { actionTypes, loginSuccess, logoutSuccess } from './action';\r\n\r\nimport AuthRepository from '../../repositories/AuthRepository';\r\n\r\n\r\nfunction* loginSaga({payload}) {\r\n    try {\r\n        const data = yield call(AuthRepository.login, payload);\r\n        if(data && data.statusCode === 200 && data.authorization){\r\n            let res = data.data;\r\n            res.authorization = data.authorization;\r\n            res.isLoggedIn = true;\r\n            yield put(loginSuccess(res));\r\n        }else if(data && data.statusCode === 400 ){\r\n        }else if(data && data.statusCode === 404 ){\r\n        }else{\r\n        }\r\n    }  catch (err) {\r\n        // console.log(err);\r\n    }\r\n}\r\n\r\nfunction* logoutSaga() {\r\n    try {\r\n        localStorage.removeItem('usertoken');\r\n        yield put(logoutSuccess());\r\n    }  catch (err) {\r\n        // console.log(err);\r\n    }\r\n}\r\n\r\nexport default function* rootSaga() {\r\n    yield all([takeEvery(actionTypes.LOGIN_REQUEST, loginSaga)]);\r\n    yield all([takeEvery(actionTypes.LOGOUT_REQUEST, logoutSaga)]);\r\n}\r\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,GAAG,EAACC,IAAI,EAAEC,SAAS,QAAQ,oBAAoB;AAE7D,SAASC,WAAW,EAAEC,YAAY,EAAEC,aAAa,QAAQ,UAAU;AAEnE,OAAOC,cAAc,MAAM,mCAAmC;AAG9D,UAAUC,SAAS,CAAC;EAACC;AAAO,CAAC,EAAE;EAC3B,IAAI;IACA,MAAMC,IAAI,GAAG,MAAMR,IAAI,CAACK,cAAc,CAACI,KAAK,EAAEF,OAAO,CAAC;IACtD,IAAGC,IAAI,IAAIA,IAAI,CAACE,UAAU,KAAK,GAAG,IAAIF,IAAI,CAACG,aAAa,EAAC;MACrD,IAAIC,GAAG,GAAGJ,IAAI,CAACA,IAAI;MACnBI,GAAG,CAACD,aAAa,GAAGH,IAAI,CAACG,aAAa;MACtCC,GAAG,CAACC,UAAU,GAAG,IAAI;MACrB,MAAMd,GAAG,CAACI,YAAY,CAACS,GAAG,CAAC,CAAC;IAChC,CAAC,MAAK,IAAGJ,IAAI,IAAIA,IAAI,CAACE,UAAU,KAAK,GAAG,EAAE,CAC1C,CAAC,MAAK,IAAGF,IAAI,IAAIA,IAAI,CAACE,UAAU,KAAK,GAAG,EAAE,CAC1C,CAAC,MAAI,CACL;EACJ,CAAC,CAAE,OAAOI,GAAG,EAAE;IACX;EAAA;AAER;AAEA,UAAUC,UAAU,GAAG;EACnB,IAAI;IACAC,YAAY,CAACC,UAAU,CAAC,WAAW,CAAC;IACpC,MAAMlB,GAAG,CAACK,aAAa,EAAE,CAAC;EAC9B,CAAC,CAAE,OAAOU,GAAG,EAAE;IACX;EAAA;AAER;AAEA,eAAe,UAAUI,QAAQ,GAAG;EAChC,MAAMpB,GAAG,CAAC,CAACG,SAAS,CAACC,WAAW,CAACiB,aAAa,EAAEb,SAAS,CAAC,CAAC,CAAC;EAC5D,MAAMR,GAAG,CAAC,CAACG,SAAS,CAACC,WAAW,CAACkB,cAAc,EAAEL,UAAU,CAAC,CAAC,CAAC;AAClE"},"metadata":{},"sourceType":"module"}